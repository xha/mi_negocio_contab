@model Datos.Models.ImportacionesModel

@using (Html.BeginForm(null, null, null, FormMethod.Post, new { id = "DatosForm" }))
{
    @Html.HiddenFor(m => m.Codigo)
    <div class="row">
        <div class="col-sm-3">
            <label>Nro. Orden Importaci&oacute;n</label>
            @Html.TextBoxFor(m => m.Documento, new { @class = "form-control alert-warning", @maxlength = "25", onkeypress = "solo_enteros(event)", ondblclick = "AjaxModalGet('Ordenes de Importacion', '/Importaciones/OrdenesImportacion', 'nada2', 'm_middle')" })
        </div>
        <div class="col-sm-3">
            <label>Incoterm</label>
            @Html.TextBoxFor(m => m.Incoterms, new { @class = "form-control", @readonly = true })
        </div>
        <div class="col-sm-4">
            <label>Moneda Origen</label>
            <div class="row">
                <div class="col-sm-5">
                    @Html.DropDownListFor(m => m.Moneda, new List<SelectListItem>
                    {
                        new SelectListItem{ Text="Moneda Nacional", Value = "MN" },
                        new SelectListItem{ Text="Moneda Extranjera", Value = "ME" },
                    }, new { @class = "form-control" })
                </div>
                <div class="col-sm-7">
                    <input type="text" readonly class="form-control" id="descripcion_moneda" />
                </div>
            </div>
        </div>
        <div class="col-sm-2">
            <label>Equiv. ME</label>
            @Html.TextBoxFor(m => m.MonedaEx, new { @class = "form-control", @readonly = true })
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
            <label>N&uacute;mero DUA</label>
            @Html.TextBoxFor(m => m.DUA, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>F. Emisi&oacute;n</label>
            @Html.TextBoxFor(m => m.FechaEmision, new { @class = "form-control datepickers", @readonly = true })
        </div>
        <div class="col-sm-2">
            <label>T/C</label>
            @Html.TextBoxFor(m => m.TotalCredito, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-6">
            <label>Proveedor</label>
            <div class="row">
                <div class="col-sm-3">
                    @Html.TextBoxFor(m => m.CodigoProveedor, new { @class = "form-control alert-warning", @maxlength = "11", onkeypress = "solo_enteros(event)", ondblclick = "AjaxModalGet('Listado de Proveedores', '/Proveedor/Proveedores', 'nada2', 'm_middle')" })
                </div>
                <div class="col-sm-9">
                    <input type="text" class="form-control" readonly id="descripcion_proveedor" />
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
            <label>FOB</label>
            @Html.TextBoxFor(m => m.FOB, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Seguro</label>
            @Html.TextBoxFor(m => m.SeguroME, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Flete</label>
            @Html.TextBoxFor(m => m.Flete, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Ajuste Valor</label>
            @Html.TextBoxFor(m => m.ValorAjuste, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Valor Aduana</label>
            @Html.TextBoxFor(m => m.ValorAduana, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>AD / Valorem</label>
            @Html.TextBoxFor(m => m.ValorEm, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
            <label>I.G.V.</label>
            @Html.TextBoxFor(m => m.IGV, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>I.P.M.</label>
            @Html.TextBoxFor(m => m.IPM, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Inafecto</label>
            @Html.TextBoxFor(m => m.Inafecto, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>I.S.C.</label>
            @Html.TextBoxFor(m => m.ISC, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Antidumping</label>
            @Html.TextBoxFor(m => m.Antidumping, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Total Pagar</label>
            @Html.TextBoxFor(m => m.Total, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
            <label>Nota de Ingreso</label>
            @Html.TextBoxFor(m => m.NotaIngreso, new { @class = "form-control alert-warning", @maxlength = "11", onkeypress = "solo_enteros(event)", ondblclick = "AjaxModalGet('Notas de Ingreso', '/Utilitarios/NotasIngreso', 'nada2', 'm_middle')" })
        </div>
        <div class="col-sm-2">
            <label>Serv. Despacho</label>
            @Html.TextBoxFor(m => m.TasaIMP, new { @class = "form-control", @maxlength = "20", onkeypress = "solo_decimal(event, this)" })
        </div>
        <div class="col-sm-2">
            <label>Tasa I.G.V.</label>
            @Html.TextBoxFor(m => m.ImporteIGV, new { @class = "form-control", @readonly = true })
        </div>
        <div class="col-sm-2">
            <label>Tasa I.P.M.</label>
            @Html.TextBoxFor(m => m.TasaIMP, new { @class = "form-control", @readonly = true })
        </div>
    </div>
}
<hr />
<div class="card shadow">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold">Artículos para Nacionalizar</h6>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered table-striped pre-scrollable datatables" id="NADatosGrid" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>C&oacute;digo</th>
                        <th>Descripci&oacute;n</th>
                        <th>U.M.</th>
                        <th>Cantidad Requerida</th>
                        <th>Cantidad Recepcionada</th>
                        <th>Cantidad Pend. Nac.</th>
                        <th>Cantidad a Nacionalizar</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</div>
<hr />
<div class="row">
    <div class="col-sm-12">
        <a href="#" onclick='ocultar_panel("NAIndex", "Importaciones")' class="btn btn-info">
            <i class='fa fa-arrow-left'></i>
            Regresar
        </a>
        <button class="btn btn-success">
            <i class='fa fa-save'></i>
            Guardar
        </button>
    </div>
</div>
<script>
    $(function () {
        $("#NADatosGrid").DataTable({
            processing: true, // for show progress bar
            serverSide: true, // for process server side
            filter: true, // this is for disable filter (search box)
            orderMulti: false, // for disable multiple column at once
            

            ajax: {
                url: ruta_actual + "/Importaciones/GridNADetalleImportacion",
                type: "POST",
                datatype: "json",
            },
            columns: [
                { data: "Documento" },
                { data: "Descripcion" },
                { data: "CodigoUnidad" },
                { data: "CantidadRequerida" },
                { data: "CantidadRecepcionada" },
                { data: "CantidadPend" },
                { data: "CantidadNacionalizar" },
            ]
        });
    });
</script>